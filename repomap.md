# RepoMap - repomap

**Generated by Repomap**

## Folder Information

- **Name**: repomap
- **Path**: `C:/workspace/environment/repomap`
- **File Count**: 9 files
- **Size**: 0.13 MB
- **Generated**: 2025-07-03 22:44:29
- **AI Analysis**: Complete (3 files analyzed)

## Filetree

├── src/
│   ├── config.py [166 lines]
│   └── hello.py [1428 lines]
├── .gitignore [12 lines]
├── .python-version [1 lines]
├── pyproject.toml [12 lines]
├── README.md [6 lines]
├── requirements.txt [1 lines]
├── run.py [23 lines]
└── uv.lock [760 lines]

## AI Analysis Results

*Generated using Gemini API*

### src\config.py

**Module Constants:**
- `DEFAULT_GITIGNORE_PATTERNS` = [...] - A list of file patterns to be ignored by Git, useful for creating a default .gitignore file when one doesn't exist.  Includes patterns for various common files and directories generated by build processes, IDEs, package managers, and more.

---

### run.py

**Classes:**
- **`RepomapApp`** - Application class (details unavailable in provided code snippet)


---

### src\hello.py

**Classes:**
- **`FileChangeHandler`** - Handles file system events (creation, modification, deletion) to trigger re-analysis of code files.
  - `__init__(self, app, folder_path)` - Initializes the handler with the main application and folder path.
  - `set_folder_index(self, index)` - Sets the index of the folder this handler is monitoring.
  - `on_modified(self, event)` - Handles file modification events, triggering debounced re-analysis.
  - `on_created(self, event)` - Handles file creation events, triggering debounced re-analysis and metadata update.
  - `on_deleted(self, event)` - Handles file deletion events, updating metadata and removing AI analysis if applicable.
  - `trigger_full_update(self)` - Triggers a full folder update with a debounce.
  - `perform_full_update(self)` - Performs a full folder update (metadata, filetree, no AI re-analysis).
  - `analyze_pending_files(self)` - Analyzes all pending files with AI.
  - `app` (RepomapApp) - Reference to the main application instance.
  - `folder_path` (str) - Path to the folder being monitored.
  - `pending_files` (set) - Set of file paths pending analysis.

- **`RepomapApp`** - Main application class for managing and displaying folder analysis.
  - `__init__(self)` - Initializes the application, setting up UI, persistence, AI analysis, and file watchers.
  - `create_toolbar(self)` - Creates the application toolbar with buttons for adding folders and managing AI analysis.
  - `select_folder(self)` - Opens a dialog to select a folder and adds it to the application.
  - `add_folder(self, folder_path)` - Adds a folder to the application, initializing metadata and AI analysis.
  - `run_ai_analysis_async(self, folder_path, folder_index)` - Runs AI analysis on a folder in a background thread.
  - `load_gitignore_patterns(self, folder_path) -> list` - Loads .gitignore patterns from the specified folder and its parent directories.
  - `create_default_gitignore(self, folder_path)` - Creates a default .gitignore file in the folder if one doesn't exist.
  - `add_repomap_to_gitignore(self, gitignore_path, existing_content)` - Adds RepoMap.md to an existing .gitignore file.
  - `pattern_matches_existing(self, pattern: str, all_items: set) -> bool` - Checks if a gitignore pattern matches any existing files/directories.
  - `create_repomap_md(self, folder_path, folder_info)` - Creates or updates a RepoMap.md file with folder information and AI analysis results.
  - `get_current_timestamp(self) -> str` - Gets the current timestamp in a readable format.
  - `count_file_lines(self, file_path) -> int` - Counts the number of lines in a file.
  - `generate_filetree(self, folder_path) -> list` - Generates a hierarchical filetree structure with line counts.
  - `save_folders(self)` - Saves folders data to persistent storage.
  - `load_saved_folders(self)` - Loads folders data from persistent storage.
  - `is_ignored(self, file_path, folder_path, gitignore_patterns) -> bool` - Checks if a file or directory should be ignored based on .gitignore patterns.
  - `count_files(self, folder_path) -> int` - Counts the number of files in a folder, excluding ignored files.
  - `should_ignore_implicitly(self, path: str) -> bool` - Checks if a path should be implicitly ignored (e.g., .git, __pycache__).
  - `get_folder_size(self, folder_path) -> str` - Gets the total size of a folder in MB or GB.
  - `show_empty_state(self)` - Shows the empty state message in the UI.
  - `update_display(self)` - Updates the UI to display folder information.
  - `create_folder_card(self, parent, folder, index)` - Creates a visual card for a folder in the UI.
  - `remove_folder(self, index)` - Removes a folder from the application.
  - `toggle_folder_selection(self, index)` - Toggles the selection state of a folder.
  - `delete_selected_folders(self)` - Deletes all selected folders from the application.
  - `update_trash_button(self)` - Updates the state of the trash button based on folder selections.
  - `setup_ai_analysis(self)` - Sets up AI analysis based on environment variables.
  - `setup_file_watching(self)` - Sets up file watching for all loaded folders.
  - `start_watching_folder(self, folder_path, folder_index)` - Starts watching a specific folder for file changes.
  - `stop_watching_folder(self, folder_path)` - Stops watching a specific folder.
  - `update_folder_watcher_index(self, folder_path, new_index)` - Updates the folder index for a file watcher.
  - `refresh_folder_metadata(self, folder_index)` - Refreshes the metadata for a specific folder.
  - `analyze_file_with_ai(self, file_path, folder_path, gitignore_patterns)` - Analyzes a single file with the AI model.
  - `parse_fallback_analysis(self, response_text, file_path, folder_path)` - Fallback parsing for AI analysis when JSON response fails.
  - `analyze_folder_with_ai(self, folder_path)` - Analyzes all files in a folder using multithreading.
  - `is_code_file(self, file_path) -> bool` - Checks if a file is a code file.
  - `run(self)` - Starts the main event loop.
  - `cleanup_file_watchers(self)` - Stops all file watchers before the application exits.
  - `root` (tk.Tk) - Main Tkinter window.
  - `folders` (list) - List of dictionaries, each containing information about a folder.
  - `ai_enabled` (bool) - Indicates whether AI analysis is enabled.


**Standalone Functions:**
- `main()` - Creates and runs the RepomapApp.

**Module Constants:**
- `DEFAULT_GITIGNORE_PATTERNS` = list - List of default .gitignore patterns.

---

